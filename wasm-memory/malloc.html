<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Simple template</title>

        <script>
            var importObject = { imports: { imported_func: arg => console.log(arg) } };
fetch('malloc.wasm').then(response =>
    response.arrayBuffer()
).then(bytes =>
    WebAssembly.instantiate(bytes, importObject)
).then(results => {
    var button = document.getElementById('run');
    button.addEventListener('click', function() {
        console.log(results.instance.exports.main());
    })
});
        </script>
    </head>
    <body>
        <input type="button" id="run" value="click for wasm"/>
    </body>
</html>


